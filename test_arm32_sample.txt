@ ARM32 Assembly Test
@ Comprehensive test of all supported ARM32 instructions

main:
    @ Function prologue
    push {r11, lr}
    mov r11, sp
    sub sp, sp, #16
    
    @ Test arithmetic operations
    mov r0, #5
    mov r1, #3
    add r2, r0, r1      @ r2 = r0 + r1 = 8
    sub r3, r2, r1      @ r3 = r2 - r1 = 5
    mul r4, r0, r1      @ r4 = r0 * r1 = 15
    
    @ Test logical operations
    mov r5, #255
    mov r6, #15
    and r7, r5, r6      @ r7 = r5 & r6 = 15
    orr r8, r5, r6      @ r8 = r5 | r6 = 255
    eor r9, r5, r6      @ r9 = r5 ^ r6 = 240
    
    @ Test compare and conditional branches
    cmp r0, r1
    bgt greater
    beq equal
    b less
    
greater:
    mov r10, #1
    b done
    
equal:
    mov r10, #0
    b done
    
less:
    mov r10, #2
    
done:
    @ Test load/store
    str r0, [r11, #-4]
    ldr r1, [r11, #-4]
    
    @ Test stack operations
    push {r0, r1, r2}
    pop {r3, r4, r5}
    
    @ Test function call
    bl helper
    
    @ Function epilogue
    mov r0, #42         @ Return value
    mov sp, r11
    pop {r11, pc}

helper:
    push {r11, lr}
    mov r11, sp
    
    @ Helper function body
    mov r0, #100
    add r0, r0, #23
    
    mov sp, r11
    pop {r11, pc}
